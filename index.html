<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Para mi amor ðŸ’–</title>
<style>
  * { box-sizing: border-box; font-family: sans-serif; }
  
  body {
    margin: 0;
    background: #0b0014;
    color: #fff;
    overflow-y: auto;
    overflow-x: hidden;
    min-height: 100vh;
  }

  /* FONDO DE ESTRELLAS FIJO ABAJO DE TODO */
  #stars {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    z-index: -1;
  }

  /* PANTALLA DE ENTRADA */
  #intro {
    position: fixed;
    inset: 0;
    background: #ff2f92;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
  }

  #intro button {
    padding: 15px 40px;
    border: none;
    border-radius: 30px;
    background: white;
    color: #ff2f92;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
  }

  /* CONTENEDOR PRINCIPAL */
  .container {
    position: relative;
    z-index: 10;
    width: 90%;
    max-width: 400px;
    margin: 40px auto;
    background: rgba(255, 255, 255, 0.15); /* Transparencia estable */
    border: 1px solid rgba(255,255,255,0.2);
    border-radius: 20px;
    padding: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
  }

  h2 { text-align: center; color: #ff8ac2; font-size: 1.4rem; }

  /* MENSAJE */
  .carta {
    background: white;
    color: #333;
    padding: 15px;
    border-radius: 15px;
    min-height: 150px;
    line-height: 1.5;
    margin-bottom: 20px;
  }

  /* PLAYER */
  .player { text-align: center; }
  .player img {
    width: 130px; height: 130px;
    border-radius: 50%;
    border: 4px solid #ff4fa1;
    animation: spin 15s linear infinite;
    object-fit: cover;
  }
  @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

  .btn-musica {
    background: #ff4fa1;
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 25px;
    margin-top: 10px;
    cursor: pointer;
  }

  /* GALERIA 3D */
  .galeria {
    height: 220px;
    perspective: 1000px;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 30px 0;
  }

  .cilindro {
    width: 100px;
    height: 140px;
    position: relative;
    transform-style: preserve-3d;
  }

  .cilindro img {
    position: absolute;
    width: 100px;
    height: 140px;
    object-fit: cover;
    border-radius: 10px;
    border: 2px solid white;
  }

  /* MODAL FOTO GRANDE */
  #modal {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.9);
    z-index: 10000;
    justify-content: center;
    align-items: center;
  }
  #modal img { max-width: 90%; max-height: 80%; border-radius: 10px; }
</style>
</head>
<body>

<canvas id="stars"></canvas>

<div id="intro">
  <h1>Para mi amor ðŸ’–</h1>
  <button onclick="iniciar()">Entrar ðŸ’•</button>
</div>

<div id="modal" onclick="this.style.display='none'">
  <img id="imgModal" src="">
</div>

<!-- AUDIOS -->
<audio id="fondo" src="https://files.catbox.moe" loop></audio> 
<audio id="cancion" src="https://files.catbox.moe"></audio>

<div class="container">
  <h2>ðŸ’Œ Mensaje ðŸ’Œ</h2>
  <div class="carta" id="texto"></div>

  <h2>ðŸŽµ MÃºsica ðŸŽµ</h2>
  <div class="player">
    <img src="https://i.imgur.com">
    <br>
    <button class="btn-musica" onclick="toggleMusica()">Play / Pausa</button>
  </div>

  <h2>ðŸ“¸ Recuerdos ðŸ“¸</h2>
  <div class="galeria">
    <div class="cilindro" id="cilindro"></div>
  </div>
</div>

<script>
  const audioFondo = document.getElementById('fondo');
  const audioCancion = document.getElementById('cancion');
  const cilindro = document.getElementById('cilindro');

  function iniciar() {
    document.getElementById('intro').style.display = 'none';
    audioFondo.volume = 0.3;
    audioFondo.play();
    escribir();
  }

  function toggleMusica() {
    if(audioCancion.paused) { audioFondo.pause(); audioCancion.play(); }
    else { audioCancion.pause(); audioFondo.play(); }
  }

  const msj = "Â¡Feliz San ValentÃ­n! Eres lo mejor de mi vida. Te amo con todo mi corazÃ³n. ðŸ¤Ž";
  let i = 0;
  function escribir() {
    if(i < msj.length) {
      document.getElementById('texto').innerHTML += msj.charAt(i++);
      setTimeout(escribir, 40);
    }
  }

  // IMAGENES
  const fotos = [
    'https://i.imgur.com', 'https://i.imgur.com',
    'https://i.imgur.com', 'https://i.imgur.com',
    'https://i.imgur.com', 'https://i.imgur.com',
    'https://i.imgur.com'
  ];

  fotos.forEach((url, index) => {
    const img = document.createElement('img');
    img.src = url;
    const angulo = (360 / fotos.length) * index;
    img.style.transform = `rotateY(${angulo}deg) translateZ(140px)`;
    img.onclick = () => {
      document.getElementById('imgModal').src = url;
      document.getElementById('modal').style.display = 'flex';
    };
    cilindro.appendChild(img);
  });

  let r = 0;
  function animar() {
    r -= 0.5;
    cilindro.style.transform = `rotateY(${r}deg)`;
    requestAnimationFrame(animar);
  }
  animar();

  // ESTRELLAS
  const cvs = document.getElementById('stars');
  const ctx = cvs.getContext('2d');
  function res() { cvs.width = innerWidth; cvs.height = innerHeight; }
  res(); window.onresize = res;
  let s = Array.from({length:80}, () => ({x:Math.random()*cvs.width, y:Math.random()*cvs.height, r:Math.random()*1.5}));
  function draw() {
    ctx.clearRect(0,0,cvs.width,cvs.height);
    ctx.fillStyle = "white";
    s.forEach(p => {
      ctx.beginPath(); ctx.arc(p.x, p.y, p.r, 0, Math.PI*2); ctx.fill();
      p.y += 0.2; if(p.y > cvs.height) p.y = 0;
    });
    requestAnimationFrame(draw);
  }
  draw();
</script>
</body>
</html>
