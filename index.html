<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Para mi cebollÃ­n ğŸ¤</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
*{box-sizing:border-box}
body{
 margin:0;
 font-family:Segoe UI, sans-serif;
 background:linear-gradient(180deg,#140010,#2a0030);
 color:#fff;
 overflow-x:hidden;
}

/* LOGIN */

#login{
 position:fixed;
 inset:0;
 display:flex;
 justify-content:center;
 align-items:center;
 background:#0a0008;
 z-index:999;
}

#heartsCanvas{position:absolute; inset:0;}

.loginCard{
 position:relative;
 background:rgba(255,255,255,.18);
 backdrop-filter:blur(16px);
 padding:40px;
 border-radius:25px;
 text-align:center;
 box-shadow:0 0 40px rgba(255,0,120,.4);
 animation:float 4s ease-in-out infinite;
}

@keyframes float{
0%,100%{transform:translateY(0)}
50%{transform:translateY(-12px)}
}

input{
 padding:14px;
 border-radius:14px;
 border:none;
 text-align:center;
 font-size:16px;
 width:200px;
}

button{
 padding:12px 20px;
 border:none;
 border-radius:20px;
 background:linear-gradient(45deg,#ff4da6,#ff80bf);
 color:white;
 font-size:16px;
 margin-top:12px;
 cursor:pointer;
}

/* HEART BG */

.bgHearts span{
 position:fixed;
 color:#ff4da6;
 animation:rise linear infinite;
 opacity:.25;
 pointer-events:none;
}

@keyframes rise{
 from{transform:translateY(100vh)}
 to{transform:translateY(-10vh)}
}

/* CARD */

.card{
 background:rgba(255,255,255,.65);
 backdrop-filter:blur(14px);
 color:#4a0030;
 margin:22px auto;
 padding:22px;
 width:95%;
 max-width:560px;
 border-radius:24px;
 box-shadow:0 12px 40px rgba(0,0,0,.25);
 border:3px solid rgba(255,214,235,.6);
}

.card h2{
 text-align:center;
 margin-top:0;
 font-size:22px;
 background:linear-gradient(45deg,#ff2f92,#ff85c2);
 -webkit-background-clip:text;
 -webkit-text-fill-color:transparent;
}

.circleImg,.musicCover{
 width:170px;
 height:170px;
 border-radius:50%;
 object-fit:cover;
 display:block;
 margin:14px auto;
 border:6px solid #ffb3d9;
}

/* ===== CARRUSEL MEJORADO ===== */

.carousel{
 overflow:hidden;
 position:relative;
}

.carouselTrack{
 display:flex;
 gap:14px;
 width:max-content;
 animation:scroll 60s linear infinite;
}

.carouselTrack img{
 width:180px;
 height:140px;
 object-fit:cover;
 border-radius:16px;
}

@keyframes scroll{
 from{transform:translateX(0)}
 to{transform:translateX(-50%)}
}

/* GRID */

.grid{
 display:grid;
 grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
 gap:10px;
}

.grid img{
 width:100%;
 height:140px;
 object-fit:cover;
 border-radius:16px;
 cursor:pointer;
}

/* ZOOM */

#zoom{
 position:fixed;
 inset:0;
 background:rgba(0,0,0,.9);
 display:none;
 justify-content:center;
 align-items:center;
 z-index:9999;
}

#zoom img{
 max-width:95%;
 max-height:95%;
 border-radius:18px;
}

.finalText{
 line-height:1.7;
 font-size:16px;
 color:#3a0030;
 white-space:pre-line;
}

.touchPhrase{
 position:fixed;
 font-size:18px;
 pointer-events:none;
 animation:fadeUp 2s forwards;
}

@keyframes fadeUp{
 from{opacity:1; transform:translateY(0)}
 to{opacity:0; transform:translateY(-60px)}
}

</style>
</head>

<body>

<div id="login">
<canvas id="heartsCanvas"></canvas>
<div class="loginCard">
<h2>Ingresa la contraseÃ±a ğŸ’–</h2>
<input id="pass">
<br>
<button onclick="enter()">Entrar</button>
</div>
</div>

<div id="zoom" onclick="this.style.display='none'">
<img id="zoomImg">
</div>

<audio id="bgMusic" loop>
<source src="https://files.catbox.moe/4nrc17.mp3">
</audio>

<audio id="ourSong">
<source src="https://files.catbox.moe/egr68n.mp3">
</audio>

<div class="bgHearts" id="bgHearts"></div>

<div class="card">
<h2>ğŸ’ Nuestro tiempo juntos ğŸ’</h2>
<img class="circleImg" src="https://i.imgur.com/m2rqpiu.jpeg">
<div id="counter"></div>
</div>

<div class="card">
<h2>ğŸµ Nuestra canciÃ³n ğŸµ</h2>
<img class="musicCover" src="https://i.imgur.com/jbyIzFT.jpeg">
<div style="text-align:center">
<button id="btnPlay" onclick="toggleSong()">â–¶ï¸ Reproducir</button>
</div>
</div>

<!-- ===== CARRUSEL NUEVO ===== -->

<div class="card">
<h2>ğŸï¸ Momentos especiales ğŸï¸</h2>
<div class="carousel">
<div class="carouselTrack">
<img src="https://i.imgur.com/tpH81jp.jpeg">
<img src="https://i.imgur.com/mOQ2xhz.jpeg">
<img src="https://i.imgur.com/ra5P475.jpeg">
<img src="https://i.imgur.com/0xnanwq.jpeg">
<img src="https://i.imgur.com/2Xh4XhC.jpeg">
<img src="https://i.imgur.com/UX4FUgZ.jpeg">
<img src="https://i.imgur.com/3h5EZdw.jpeg">
<img src="https://i.imgur.com/8yDYtN4.jpeg">

<!-- duplicadas para bucle suave -->
<img src="https://i.imgur.com/tpH81jp.jpeg">
<img src="https://i.imgur.com/mOQ2xhz.jpeg">
<img src="https://i.imgur.com/ra5P475.jpeg">
<img src="https://i.imgur.com/0xnanwq.jpeg">
<img src="https://i.imgur.com/2Xh4XhC.jpeg">
<img src="https://i.imgur.com/UX4FUgZ.jpeg">
<img src="https://i.imgur.com/3h5EZdw.jpeg">
<img src="https://i.imgur.com/8yDYtN4.jpeg">
</div>
</div>
</div>

<div class="card">
<h2>ğŸ“¸ Todos nuestros recuerdos ğŸ“¸</h2>
<div class="grid" id="gridFotos">
<img src="https://i.imgur.com/tpH81jp.jpeg">
<img src="https://i.imgur.com/mOQ2xhz.jpeg">
<img src="https://i.imgur.com/ra5P475.jpeg">
<img src="https://i.imgur.com/0xnanwq.jpeg">
<img src="https://i.imgur.com/2Xh4XhC.jpeg">
<img src="https://i.imgur.com/UX4FUgZ.jpeg">
<img src="https://i.imgur.com/3h5EZdw.jpeg">
<img src="https://i.imgur.com/8yDYtN4.jpeg">
</div>
</div>

<button id="btnGalaxia" style="position:fixed;bottom:20px;right:20px;z-index:50;">ğŸ’« Sorpresa</button>

<div id="galaxiaWrap" style="position:fixed;inset:0;background:black;z-index:999;display:none;">
<button id="salirGalaxia" style="position:absolute;top:20px;right:20px;z-index:1000;">âœ– Salir</button>
<canvas id="galaxiaCanvas"></canvas>
</div>

<script src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>

<script>

/* LOGIN */
function enter(){
 if(pass.value==="Jerry"){
  login.style.display="none";
  bgMusic.play().catch(()=>{});
 }
}

/* ZOOM */
document.querySelectorAll("#gridFotos img").forEach(img=>{
 img.onclick=()=>{
  zoom.style.display="flex";
  zoomImg.src=img.src;
 }
});

/* CONTADOR */
const start=new Date("2024-09-11");
setInterval(()=>{
 const diff=Date.now()-start;
 const d=Math.floor(diff/86400000);
 const h=Math.floor(diff/3600000)%24;
 const m=Math.floor(diff/60000)%60;
 counter.innerHTML=`${d} dÃ­as ${h}h ${m}m juntos ğŸ’—`;
},1000);

/* ===== GALAXIA CINEMATOGRÃFICA ===== */

let scene,camera,renderer,group;
let mx=0,my=0;

btnGalaxia.onclick=()=>{
 galaxiaWrap.style.display="block";
 if(!renderer) initGalaxy();
}

salirGalaxia.onclick=()=>{
 galaxiaWrap.style.display="none";
}

function initGalaxy(){
 scene=new THREE.Scene();
 camera=new THREE.PerspectiveCamera(60,innerWidth/innerHeight,1,3000);
 camera.position.z=160;

 renderer=new THREE.WebGLRenderer({canvas:galaxiaCanvas});
 renderer.setSize(innerWidth,innerHeight);

 group=new THREE.Group();
 scene.add(group);

 /* estrellas */
 const geo=new THREE.BufferGeometry();
 const count=4000;
 const pos=new Float32Array(count*3);
 for(let i=0;i<count;i++){
  pos[i*3]=(Math.random()-0.5)*2000;
  pos[i*3+1]=(Math.random()-0.5)*2000;
  pos[i*3+2]=(Math.random()-0.5)*2000;
 }
 geo.setAttribute('position',new THREE.BufferAttribute(pos,3));
 const stars=new THREE.Points(geo,new THREE.PointsMaterial({size:1.2}));
 group.add(stars);

 /* frases 3D */
 const frases=[
 "Te amo ğŸ’–","Eres mi todo","Amor infinito","Siempre tÃº",
 "Mi corazÃ³n","Mi universo","Contigo todo",
 "Eres magia","Eres hogar","Mi vida"
 ];

 for(let i=0;i<100;i++){
  const canvas=document.createElement("canvas");
  canvas.width=512;
  canvas.height=128;
  const ctx=canvas.getContext("2d");
  ctx.fillStyle="#ff66cc";
  ctx.font="40px sans-serif";
  ctx.fillText(frases[i%frases.length],20,70);

  const tex=new THREE.CanvasTexture(canvas);
  const mat=new THREE.SpriteMaterial({map:tex});
  const sp=new THREE.Sprite(mat);

  sp.position.set(
   (Math.random()-0.5)*800,
   (Math.random()-0.5)*400,
   (Math.random()-0.5)*800
  );
  sp.scale.set(120,30,1);
  group.add(sp);
 }

 animateGalaxy();
}

function animateGalaxy(){
 requestAnimationFrame(animateGalaxy);
 group.rotation.y+=0.001;
 camera.position.x += (mx*80-camera.position.x)*.05;
 camera.position.y += (-my*60-camera.position.y)*.05;
 camera.lookAt(scene.position);
 renderer.render(scene,camera);
}

addEventListener("pointermove",e=>{
 mx=(e.clientX/innerWidth-.5);
 my=(e.clientY/innerHeight-.5);
});

</script>
</body>
</html>
