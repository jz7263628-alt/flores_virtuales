<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Para mi cebollÃ­n ğŸ¤</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
*{box-sizing:border-box}

html,body{
 margin:0;
 font-family:Segoe UI, sans-serif;
 background:linear-gradient(180deg,#140010,#2a0030);
 color:#fff;
 overflow-x:hidden;
 scroll-behavior:smooth;
}

/* LOGIN */

#login{
 position:fixed;
 inset:0;
 display:flex;
 justify-content:center;
 align-items:center;
 background:#0a0008;
 z-index:999;
}

#heartsCanvas{position:absolute; inset:0;}

.loginCard{
 position:relative;
 background:rgba(255,255,255,.18);
 backdrop-filter:blur(14px);
 padding:30px;
 border-radius:24px;
 text-align:center;
 width:90%;
 max-width:380px;
 box-shadow:0 0 40px rgba(255,0,120,.4);
 animation:float 4s ease-in-out infinite;
}

@keyframes float{
50%{transform:translateY(-10px)}
}

input,button{
 width:100%;
}

/* CARDS */

.card{
 background:rgba(255,255,255,.55);
 color:#4a0030;
 margin:18px auto;
 padding:18px;
 width:94%;
 max-width:560px;
 border-radius:22px;
 backdrop-filter:blur(12px);
 box-shadow:0 12px 40px rgba(0,0,0,.25);
 border:2px solid rgba(255,182,210,.5);
 transform:translateZ(0);
}

/* IMÃGENES â€” RESERVA ESPACIO */

.circleImg,.musicCover{
 width:42vw;
 max-width:170px;
 aspect-ratio:1/1;
 border-radius:50%;
 object-fit:cover;
 display:block;
 margin:14px auto;
 border:5px solid #ffb3d9;
}

/* CAROUSEL 3D â€” SIN SALTOS */

.carouselWrap{
 perspective:1000px;
 height:210px;
 position:relative;
 contain:layout paint;
}

.carousel{
 width:100%;
 height:100%;
 position:absolute;
 transform-style:preserve-3d;
 animation:spin 22s linear infinite;
 will-change:transform;
}

.carousel img{
 position:absolute;
 width:150px;
 height:120px;
 object-fit:cover;
 border-radius:16px;
 left:50%;
 top:30px;
 margin-left:-75px;
}

@keyframes spin{
 from{transform:rotateY(0)}
 to{transform:rotateY(360deg)}
}

/* GRID â€” ALTURA FIJA */

.grid{
 display:grid;
 grid-template-columns:repeat(auto-fit,minmax(110px,1fr));
 gap:8px;
}

.grid img{
 width:100%;
 aspect-ratio:1/1;
 object-fit:cover;
 border-radius:14px;
 cursor:pointer;
}

/* ZOOM */

#zoom{
 position:fixed;
 inset:0;
 background:rgba(0,0,0,.85);
 display:none;
 justify-content:center;
 align-items:center;
 z-index:9999;
}

#zoom img{
 max-width:95%;
 max-height:95%;
 border-radius:18px;
}

/* CORAZONES FONDO */

.bgHearts span{
 position:fixed;
 color:#ff4da6;
 animation:rise linear infinite;
 opacity:.28;
 pointer-events:none;
 will-change:transform;
}

@keyframes rise{
 from{transform:translateY(100vh)}
 to{transform:translateY(-10vh)}
}

/* TOUCH FX */

.touchFx{
 position:fixed;
 pointer-events:none;
 animation:floatUp 1.2s forwards;
 font-size:16px;
 color:#ff66bb;
}

@keyframes floatUp{
 to{transform:translateY(-60px);opacity:0}
}

.finalText{
 line-height:1.7;
 font-size:15px;
 white-space:pre-line;
 min-height:260px;
}

</style>
</head>

<body>

<div id="login">
<canvas id="heartsCanvas"></canvas>
<div class="loginCard">
<h2>Ingresa la contraseÃ±a ğŸ’–</h2>
<input id="pass">
<button onclick="enter()">Entrar</button>
</div>
</div>

<div id="zoom" onclick="this.style.display='none'">
<img id="zoomImg">
</div>

<audio id="bgMusic" loop>
<source src="https://files.catbox.moe/4nrc17.mp3">
</audio>

<audio id="ourSong">
<source src="https://files.catbox.moe/egr68n.mp3">
</audio>

<div class="bgHearts" id="bgHearts"></div>

<div class="card">
<h2>ğŸ’ Nuestro tiempo juntos ğŸ’</h2>
<img class="circleImg" src="https://i.imgur.com/m2rqpiu.jpeg" loading="eager">
<div id="counter"></div>
</div>

<div class="card">
<h2>ğŸµ Nuestra canciÃ³n ğŸµ</h2>
<img class="musicCover" src="https://i.imgur.com/jbyIzFT.jpeg" loading="eager">
<button id="btnPlay" onclick="toggleSong()">â–¶ï¸ Reproducir</button>
</div>

<div class="card">
<h2>ğŸï¸ Momentos especiales ğŸï¸</h2>
<div class="carouselWrap">
<div class="carousel" id="carousel3d"></div>
</div>
</div>

<div class="card">
<h2>ğŸ“¸ Todos nuestros recuerdos ğŸ“¸</h2>
<div class="grid" id="gridImgs"></div>
</div>

<div class="card finalText" id="typedText"></div>

<script>

/* LOGIN */
function enter(){
 if(pass.value==="Jerry"){
  login.style.display="none";
  bgMusic.play().catch(()=>{});
 }
}

/* AUDIO */
function toggleSong(){
 if(ourSong.paused){
  bgMusic.pause();
  ourSong.play();
  btnPlay.innerHTML="â¸ï¸ Pausar";
 } else {
  ourSong.pause();
  bgMusic.play();
  btnPlay.innerHTML="â–¶ï¸ Reproducir";
 }
}

/* CONTADOR */
const start=new Date("2024-09-11T00:00:00");
setInterval(()=>{
 let diff=Date.now()-start;
 let d=Math.floor(diff/86400000);
 let h=Math.floor(diff/3600000)%24;
 let m=Math.floor(diff/60000)%60;
 counter.innerHTML=`<b>${d}</b> dÃ­as ğŸ’—<br>${h}h ${m}m`;
},1000);

/* CORAZONES */
for(let i=0;i<24;i++){
 const s=document.createElement("span");
 s.innerHTML="â¤";
 s.style.left=Math.random()*100+"vw";
 s.style.fontSize=(16+Math.random()*24)+"px";
 s.style.animationDuration=(8+Math.random()*10)+"s";
 bgHearts.appendChild(s);
}

/* IMÃGENES */
const imgs=[
"https://i.imgur.com/tpH81jp.jpeg",
"https://i.imgur.com/mOQ2xhz.jpeg",
"https://i.imgur.com/ra5P475.jpeg",
"https://i.imgur.com/0xnanwq.jpeg",
"https://i.imgur.com/2Xh4XhC.jpeg",
"https://i.imgur.com/UX4FUgZ.jpeg",
"https://i.imgur.com/3h5EZdw.jpeg",
"https://i.imgur.com/8yDYtN4.jpeg",
"https://i.imgur.com/1IveqjS.jpeg",
"https://i.imgur.com/D2fqpOe.jpeg",
"https://i.imgur.com/cqMYyp1.jpeg",
"https://i.imgur.com/S888hKj.jpeg"
];

imgs.slice(0,8).forEach((src,i)=>{
 let im=new Image();
 im.src=src;
 im.loading="eager";
 im.style.transform=`rotateY(${i*(360/8)}deg) translateZ(260px)`;
 carousel3d.appendChild(im);
});

imgs.forEach(src=>{
 let im=new Image();
 im.src=src;
 im.loading="lazy";
 im.onclick=()=>{zoom.style.display="flex";zoomImg.src=src;}
 gridImgs.appendChild(im);
});

/* TOQUE â€” LIMITADO */
const frases=["Te amo ğŸ’–","Siempre tÃº ğŸ’","Mi amor âœ¨","Besos ğŸ˜˜"];
let lastTouch=0;
document.addEventListener("click",e=>{
 if(Date.now()-lastTouch<600) return;
 lastTouch=Date.now();
 let f=document.createElement("div");
 f.className="touchFx";
 f.innerHTML=frases[Math.floor(Math.random()*frases.length)];
 f.style.left=e.clientX+"px";
 f.style.top=e.clientY+"px";
 document.body.appendChild(f);
 setTimeout(()=>f.remove(),1200);
});

/* TEXTO AUTO â€” COMPLETO */
const texto=`AÃºn recuerdo cuando vi al ratÃ³n Jerry en el gym...
Siempre me robabas la barra ğŸ˜
Pero habÃ­a algo en ti que me llamaba la atenciÃ³n.

Nuestra primera cita fue ir por jitomates â€” y fue perfecta.

Nuestro primer mensaje fue el 11 de septiembre de 2024:
â€œHolaaa :)â€

Quiero viajar contigo,
que nos corretien los borregos,
reÃ­rnos como loquitos,
cuidarte siempre,
verte cumplir tus metas.

Amo tu forma de ver a las personas,
tu ternura,
tus rufles,
tu motito cool,
tus piesitos de ratÃ³n,
tus dientitos de ratoncito.

Hay muchos momentos hermosos en la vidaâ€¦
pero el mÃ¡s especial fue cuando te conocÃ­.

Te amo mucho mi cebollÃ­n ğŸ¥°`;

let ti=0;
function type(){
 if(ti<texto.length){
  typedText.textContent+=texto[ti++];
  setTimeout(type,26);
 }
}
type();

/* LOGIN HEART CANVAS */
const c=document.getElementById("heartsCanvas");
const ctx=c.getContext("2d");
c.width=innerWidth;
c.height=innerHeight;
let hearts=[];
function heart(){this.x=Math.random()*c.width;this.y=c.height;this.s=6+Math.random()*10;this.v=1+Math.random()*2;}
function drawHeart(x,y,s){
 ctx.beginPath();
 ctx.moveTo(x,y);
 ctx.bezierCurveTo(x-s,y-s,x-2*s,y+s,x,y+2*s);
 ctx.bezierCurveTo(x+2*s,y+s,x+s,y-s,x,y);
 ctx.fillStyle="rgba(255,80,150,.8)";
 ctx.fill();
}
function loop(){
 ctx.clearRect(0,0,c.width,c.height);
 if(Math.random()<.25) hearts.push(new heart());
 hearts.forEach((h,i)=>{
  h.y-=h.v;
  drawHeart(h.x,h.y,h.s);
  if(h.y<-40) hearts.splice(i,1);
 });
 requestAnimationFrame(loop);
}
loop();

</script>
</body>
</html>
