<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Para Mi Ceboll√≠n ü§é</title>

<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  margin:0;
  font-family: 'Segoe UI', sans-serif;
  background:#0b0b12;
  color:white;
  overflow-x:hidden;
}

/* Fondo corazones */
.bg-hearts{
  position:fixed;
  width:100%;
  height:100%;
  overflow:hidden;
  z-index:-1;
}
.heart{
  position:absolute;
  color:#ff4d6d;
  animation:fall linear infinite;
  opacity:.25;
}
@keyframes fall{
  from{transform:translateY(-10vh)}
  to{transform:translateY(110vh)}
}

/* Tarjetas */
.card{
  background:rgba(255,255,255,.08);
  backdrop-filter: blur(10px);
  border-radius:18px;
  padding:20px;
  margin:20px;
  box-shadow:0 0 25px rgba(255,255,255,.08);
}

/* Texto m√°quina */
.type{
  border-right:2px solid #fff;
  white-space:pre-line;
  overflow:hidden;
}

/* Carrusel */
.carousel{
  perspective:1200px;
  width:100%;
  height:260px;
  position:relative;
}
.spin{
  width:100%;
  height:100%;
  position:absolute;
  transform-style:preserve-3d;
  animation:rotate 22s linear infinite;
}
.spin img{
  position:absolute;
  width:160px;
  height:200px;
  object-fit:cover;
  left:calc(50% - 80px);
  top:30px;
  border-radius:14px;
  cursor:pointer;
  box-shadow:0 0 20px rgba(255,255,255,.35);
}
@keyframes rotate{
  from{transform:rotateY(0)}
  to{transform:rotateY(360deg)}
}

/* Galer√≠a */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
  gap:12px;
}
.grid img{
  width:100%;
  border-radius:14px;
  cursor:pointer;
}

/* Lightbox */
#viewer{
  position:fixed;
  inset:0;
  background:#000c;
  display:none;
  justify-content:center;
  align-items:center;
}
#viewer img{
  max-width:92%;
  max-height:92%;
  border-radius:18px;
}

/* Botones */
button{
  padding:12px 18px;
  border:none;
  border-radius:14px;
  font-size:15px;
  cursor:pointer;
  background:#ff4d6d;
  color:white;
  box-shadow:0 0 15px #ff4d6d66;
}

/* Frases toque */
.tapMsg{
  position:fixed;
  font-size:22px;
  animation:floatUp 1.6s forwards;
  pointer-events:none;
}
@keyframes floatUp{
  to{transform:translateY(-90px); opacity:0}
}

/* Galaxia */
#galaxyWrap{
  position:fixed;
  inset:0;
  background:#000;
  display:none;
}
#exitGalaxy{
  position:fixed;
  top:18px;
  right:18px;
  z-index:10;
}
canvas{display:block}
</style>
</head>

<body>

<div class="bg-hearts" id="hearts"></div>

<!-- M√∫sica -->
<audio id="musicMain" src="fondo.mp3" loop></audio>
<audio id="musicSong" src="nuestra.mp3" loop></audio>

<div class="card">
<h2>Tiempo juntos ‚è≥</h2>
<div id="count"></div>
<button onclick="musicMain.play()">‚ñ∂ Fondo</button>
<button onclick="musicMain.pause()">‚è∏ Fondo</button>
<button onclick="musicSong.play()">‚ñ∂ Nuestra canci√≥n</button>
<button onclick="musicSong.pause()">‚è∏ Nuestra canci√≥n</button>
</div>

<div class="card">
<h2>Nuestro mensaje üíå</h2>
<div id="text" class="type"></div>
</div>

<div class="card">
<h2>Carrusel ‚ú®</h2>
<div class="carousel">
<div class="spin" id="spin"></div>
</div>
</div>

<div class="card">
<h2>Nuestros recuerdos üì∏</h2>
<div class="grid" id="gallery"></div>
</div>

<div class="card">
<button onclick="openGalaxy()">üéÅ Bot√≥n sorpresa</button>
</div>

<div id="viewer" onclick="this.style.display='none'">
<img id="viewImg">
</div>

<!-- Galaxia -->
<div id="galaxyWrap">
<button id="exitGalaxy" onclick="closeGalaxy()">Salir</button>
<canvas id="galaxy"></canvas>
</div>

<script>
/* corazones fondo */
for(let i=0;i<40;i++){
 let h=document.createElement("div");
 h.className="heart";
 h.innerHTML="‚ù§";
 h.style.left=Math.random()*100+"%";
 h.style.fontSize=12+Math.random()*24+"px";
 h.style.animationDuration=6+Math.random()*10+"s";
 hearts.appendChild(h);
}

/* contador */
let start=new Date("2024-09-11");
setInterval(()=>{
 let d=new Date()-start;
 let days=Math.floor(d/86400000);
 count.innerHTML=days+" d√≠as juntos ü§é";
},1000);

/* texto completo corregido */
let msg=`Hay muchas cosas que amo de ti‚Ä¶
Pero en especial esa forma que tienes de ver a las personas.
Admiro eso de ti.

Tambi√©n que por m√°s cosas malas que hayas vivido,
siempre tratas de ser mejor.

Amo a la ni√±a que siempre anda temerosa
pero aun as√≠ va.

La forma en que haces especial
cualquier momento simple.

Mi ceboll√≠n que en su motito se ve muy cool.
La ni√±a que ama los Ruffles.
Las hamburguesas sin pi√±a.
La que ama Crep√∫sculo.
La que ama las cosas simples.
La ni√±a de los piecitos de rat√≥n.
Y esos dientitos de ratoncito.

Nuestro primer mensaje fue:
Holaaa :)

Quiero m√°s viajes contigo,
que nos correteen los borregos,
siempre cuidarte,
tomarnos m√°s fotos,
verte cumplir tus metas,
re√≠rnos como loquitos del centro.

Hay muchos momentos hermosos en la vida,
pero sin duda el mejor fue cuando te conoc√≠.

Te amo mucho mi ceboll√≠n ü§é`;

let i=0;
function type(){
 if(i<msg.length){
  text.innerHTML+=msg[i++];
  setTimeout(type,28);
 }
}
type();

/* im√°genes ‚Äî NO eliminadas */
let imgs=[
"1.jpg","2.jpg","3.jpg","4.jpg","5.jpg",
"6.jpg","7.jpg","8.jpg","9.jpg","10.jpg"
];

/* carrusel */
imgs.forEach((src,i)=>{
 let im=document.createElement("img");
 im.src=src;
 im.style.transform=`rotateY(${i*(360/imgs.length)}deg) translateZ(340px)`;
 im.onclick=()=>openImg(src);
 spin.appendChild(im);
});

/* galer√≠a */
imgs.forEach(src=>{
 let im=document.createElement("img");
 im.src=src;
 im.onclick=()=>openImg(src);
 gallery.appendChild(im);
});

function openImg(s){
 viewImg.src=s;
 viewer.style.display="flex";
}

/* frases toque */
let frases=[
"Te amo ü§é","Eres mi paz ‚ú®","Siempre t√∫ üß∏",
"Mi persona favorita üí´","Contigo todo",
"Eres hogar üè°","Mi ni√±a valiente üå∑"
];

document.body.addEventListener("click",e=>{
 let t=document.createElement("div");
 t.className="tapMsg";
 t.innerHTML=frases[Math.floor(Math.random()*frases.length)];
 t.style.left=e.clientX+"px";
 t.style.top=e.clientY+"px";
 document.body.appendChild(t);
 setTimeout(()=>t.remove(),1600);
});

/* GALAXIA 3D ligera */
let gCanvas=document.getElementById("galaxy");
let gCtx=gCanvas.getContext("2d");
let stars=[];

function openGalaxy(){
 galaxyWrap.style.display="block";
 resizeGalaxy();
 stars=[];
 for(let i=0;i<900;i++){
  stars.push({
   x:Math.random()*gCanvas.width,
   y:Math.random()*gCanvas.height,
   z:Math.random()*gCanvas.width
  });
 }
 animateGalaxy();
}

function closeGalaxy(){
 galaxyWrap.style.display="none";
 cancelAnimationFrame(gAnim);
}

function resizeGalaxy(){
 gCanvas.width=innerWidth;
 gCanvas.height=innerHeight;
}

window.onresize=resizeGalaxy;

let gAnim;
function animateGalaxy(){
 gCtx.fillStyle="black";
 gCtx.fillRect(0,0,gCanvas.width,gCanvas.height);

 for(let s of stars){
  s.z-=3;
  if(s.z<=0) s.z=gCanvas.width;

  let k=128/s.z;
  let px=s.x*k+gCanvas.width/2;
  let py=s.y*k+gCanvas.height/2;

  if(px>=0 && px<=gCanvas.width && py>=0 && py<=gCanvas.height){
   let size=(1-k)*2;
   gCtx.fillStyle="white";
   gCtx.fillRect(px,py,size,size);
  }
 }

 gAnim=requestAnimationFrame(animateGalaxy);
}
</script>

</body>
</html>
