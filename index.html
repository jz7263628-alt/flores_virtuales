<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Para Marlen üíñ</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
html,body{
 margin:0;
 background:black;
 font-family:Segoe UI, sans-serif;
 overflow-x:hidden;
 color:white;
}

/* PASSWORD */
#lock{
 position:fixed;
 inset:0;
 background:black;
 display:flex;
 flex-direction:column;
 justify-content:center;
 align-items:center;
 z-index:999;
}

input{
 padding:12px;
 border-radius:12px;
 border:none;
 font-size:18px;
 text-align:center;
}

button{
 padding:12px 18px;
 border:none;
 border-radius:12px;
 background:#ff4da6;
 color:white;
 font-size:16px;
 margin-top:10px;
}

/* SPACE */
#space{
 position:fixed;
 inset:0;
 z-index:-1;
}

/* TITLES */
h1{
 text-align:center;
 color:#ff77cc;
 text-shadow:0 0 20px #ff4da6;
 margin-top:30px;
}

#contador{
 text-align:center;
 color:#ffd6f0;
}

/* FRASES */
.phrase{
 position:absolute;
 color:#ffb3e6;
 font-size:18px;
 opacity:0;
 animation:floatUp 4s linear forwards;
}

@keyframes floatUp{
 0%{transform:translateY(40px);opacity:0;}
 20%{opacity:1;}
 100%{transform:translateY(-160px);opacity:0;}
}

/* STICKERS */
.sticker{
 position:absolute;
 font-size:24px;
 animation:drift 4s linear forwards;
}

@keyframes drift{
 to{transform:translateY(-200px) rotate(180deg);opacity:0;}
}

/* SLIDER */
.slider{
 overflow:hidden;
 width:100%;
 margin-top:30px;
}

.track{
 display:flex;
 gap:30px;
 animation:scroll 28s linear infinite;
}

.slide{
 position:relative;
}

.slide img{
 height:420px;
 border-radius:20px;
 box-shadow:0 0 25px #ff4da6;
}

.caption{
 position:absolute;
 bottom:10px;
 left:10px;
 right:10px;
 background:rgba(0,0,0,.6);
 padding:8px;
 border-radius:10px;
 font-size:16px;
}

@keyframes scroll{
 from{transform:translateX(0);}
 to{transform:translateX(-50%);}
}

/* CARD */
.card{
 max-width:600px;
 margin:60px auto;
 padding:25px;
 background:rgba(255,255,255,.08);
 border-radius:20px;
 backdrop-filter:blur(6px);
 line-height:1.6;
}

/* STORY */
.story{
 position:fixed;
 inset:0;
 background:black;
 display:none;
 z-index:200;
}

.storySlide{
 position:absolute;
 inset:0;
 display:flex;
 flex-direction:column;
 justify-content:center;
 align-items:center;
 text-align:center;
 padding:30px;
 opacity:0;
 transform:scale(1.1);
 transition:1s;
}

.storySlide.active{
 opacity:1;
 transform:scale(1);
}

.storySlide img{
 width:85%;
 max-width:380px;
 border-radius:20px;
 box-shadow:0 0 40px #ff4da6;
}

/* STAR FALL */
.star{
 position:absolute;
 color:white;
 animation:starFall 2s linear forwards;
}

@keyframes starFall{
 to{transform:translateY(120vh) translateX(60px);opacity:0}
}

/* BUTTONS */
.musicBtn{
 position:fixed;
 bottom:20px;
 right:20px;
 z-index:10;
}

.secretBtn{
 position:fixed;
 top:15px;
 right:15px;
 width:44px;
 height:44px;
 border-radius:50%;
 font-size:20px;
}

</style>
</head>

<body>

<!-- PASSWORD -->
<div id="lock">
<h2>Ingresa la contrase√±a üíå</h2>
<input id="pass">
<button onclick="unlock()">Entrar</button>
</div>

<canvas id="space"></canvas>

<h1>Feliz san Valent√≠n mi ceboll√≠n ü§é</h1>
<h2 id="contador"></h2>

<!-- SLIDER -->
<div class="slider">
<div class="track">

<div class="slide"><img src="https://i.imgur.com/m2rqpiu.jpeg"><div class="caption">Eres mi paz</div></div>
<div class="slide"><img src="https://i.imgur.com/jbyIzFT.jpeg"><div class="caption">Mi alegr√≠a</div></div>
<div class="slide"><img src="https://i.imgur.com/tpH81jp.jpeg"><div class="caption">Mi persona favorita</div></div>
<div class="slide"><img src="https://i.imgur.com/mOQ2xhz.jpeg"><div class="caption">Mi lugar seguro</div></div>
<div class="slide"><img src="https://i.imgur.com/ra5P475.jpeg"><div class="caption">Contigo todo</div></div>

<!-- DUPLICADO PARA LOOP -->
<div class="slide"><img src="https://i.imgur.com/m2rqpiu.jpeg"><div class="caption">Eres mi paz</div></div>
<div class="slide"><img src="https://i.imgur.com/jbyIzFT.jpeg"><div class="caption">Mi alegr√≠a</div></div>
<div class="slide"><img src="https://i.imgur.com/tpH81jp.jpeg"><div class="caption">Mi persona favorita</div></div>

</div>
</div>

<!-- CARTA -->
<div class="card">
Gracias por existir, por coincidir conmigo, por cada risa,
cada momento y cada abrazo.
No s√© qu√© traer√° el futuro,
pero s√≠ s√© que contigo todo se siente m√°s bonito.
Te amo ü§é
</div>

<button onclick="regalo()" style="display:block;margin:30px auto;">üéÅ Abrir regalo</button>

<!-- STORY -->
<button class="secretBtn" onclick="openStory()">üíå</button>

<div class="story" id="story">
<div class="storySlide active"><img src="https://i.imgur.com/0xnanwq.jpeg"><h2>Eres magia</h2></div>
<div class="storySlide"><img src="https://i.imgur.com/2Xh4XhC.jpeg"><h2>Mi universo</h2></div>
<div class="storySlide"><h1>Te amo ü§é</h1></div>
</div>

<button class="musicBtn" onclick="toggleMusic()">üéπ Piano</button>

<audio id="music" loop>
<source src="https://cdn.pixabay.com/audio/2022/03/15/audio_c8b05c7b6c.mp3">
</audio>

<script>

/* PASSWORD */
function unlock(){
 if(pass.value==="Jerry"){
  lock.style.display="none";
 } else alert("Contrase√±a incorrecta");
}

/* CONTADOR */
const inicio = new Date("2024-02-14");
function actualizarContador(){
 const hoy=new Date();
 const dias=Math.floor((hoy-inicio)/86400000);
 contador.innerText="Llevamos "+dias+" d√≠as latiendo juntos ü§é";
}
actualizarContador();

/* SPACE */
const c=space;
const ctx=c.getContext("2d");
c.width=innerWidth;
c.height=innerHeight;

let stars=[];
for(let i=0;i<400;i++){
 stars.push({x:Math.random()*c.width,y:Math.random()*c.height,r:Math.random()*1.5,v:Math.random()*0.4});
}

function draw(){
 ctx.clearRect(0,0,c.width,c.height);
 ctx.fillStyle="white";
 stars.forEach(s=>{
  ctx.beginPath();
  ctx.arc(s.x,s.y,s.r,0,6.28);
  ctx.fill();
  s.y+=s.v;
  if(s.y>c.height){s.y=0;s.x=Math.random()*c.width;}
 });
 requestAnimationFrame(draw);
}
draw();

/* FRASES + STICKERS */
const frases=["Te amo","Mi universo","Siempre t√∫","Eres magia","Mi todo"];
const stickers=["üíñ","üíï","‚ú®","üåπ"];

document.onclick=e=>{
 const f=document.createElement("div");
 f.className="phrase";
 f.innerText=frases[Math.floor(Math.random()*frases.length)];
 f.style.left=e.clientX+"px";
 f.style.top=e.clientY+"px";
 document.body.appendChild(f);
 setTimeout(()=>f.remove(),4000);

 for(let i=0;i<4;i++){
  const s=document.createElement("div");
  s.className="sticker";
  s.innerText=stickers[Math.floor(Math.random()*stickers.length)];
  s.style.left=e.clientX+"px";
  s.style.top=e.clientY+"px";
  document.body.appendChild(s);
  setTimeout(()=>s.remove(),4000);
 }
};

/* REGALO */
function regalo(){
 for(let i=0;i<40;i++){
  setTimeout(()=>document.body.click(),i*60);
 }
 alert("Eres mi mejor regalo üíñ");
}

/* STORY */
let slide=0;
const slides=document.querySelectorAll(".storySlide");

function showSlide(n){
 slides.forEach(s=>s.classList.remove("active"));
 slides[n].classList.add("active");
}

function openStory(){
 story.style.display="block";
 slide=0;
 showSlide(slide);
}

story.onclick=()=>{
 slide++;
 if(slide>=slides.length) story.style.display="none";
 else showSlide(slide);
};

/* SWIPE */
let startX=0;
document.addEventListener("touchstart",e=>startX=e.touches[0].clientX);
document.addEventListener("touchend",e=>{
 if(Math.abs(e.changedTouches[0].clientX-startX)>60) openStory();
});

/* STAR FALL */
setInterval(()=>{
 const s=document.createElement("div");
 s.className="star";
 s.innerText="‚ú¶";
 s.style.left=Math.random()*100+"vw";
 s.style.top="-20px";
 document.body.appendChild(s);
 setTimeout(()=>s.remove(),2000);
},900);

/* MUSIC */
function toggleMusic(){
 const m=document.getElementById("music");
 if(m.paused) m.play(); else m.pause();
}

</script>

</body>
</html>
