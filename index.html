<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Para mi amor ðŸ’–</title>
<style>
  * { box-sizing: border-box; font-family: 'Arial', sans-serif; -webkit-tap-highlight-color: transparent; }
  
  body {
    margin: 0;
    padding: 0;
    background: #0b0014;
    color: #fff;
    overflow-x: hidden;
    overflow-y: auto; /* Habilita el scroll */
    min-height: 100vh;
  }

  /* FONDO DE ESTRELLAS */
  #stars {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    z-index: -1;
  }

  /* PANTALLA DE ENTRADA */
  #intro {
    position: fixed;
    inset: 0;
    background: radial-gradient(circle at top, #ff5fa2, #2a003d);
    z-index: 9999;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
  }

  #intro button {
    padding: 16px 45px;
    border: none;
    border-radius: 40px;
    background: white;
    color: #ff2f92;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
  }

  /* CONTENEDOR TRANSPARENTE */
  .container {
    position: relative;
    z-index: 10;
    width: 92%;
    max-width: 420px;
    margin: 30px auto;
    background: rgba(255, 255, 255, 0.12); /* Transparencia */
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 25px;
    padding: 20px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.5);
  }

  h2 { text-align: center; color: #ff8ac2; text-shadow: 1px 1px 3px #000; margin-top: 25px; }

  /* CARTA CON TEXTO COMPLETO */
  .carta {
    background: rgba(255, 255, 255, 0.95);
    color: #333;
    padding: 20px;
    border-radius: 18px;
    border: 3px dashed #ff8ac2;
    min-height: 250px;
    font-size: 15px;
    line-height: 1.6;
    margin-bottom: 20px;
  }

  /* PLAYER MUSICA */
  .player { text-align: center; margin: 20px 0; }
  .player img {
    width: 140px; height: 140px;
    border-radius: 50%;
    border: 5px solid #ff4fa1;
    animation: spin 18s linear infinite;
    object-fit: cover;
  }
  @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

  .btn-musica {
    background: #ff4fa1;
    color: white;
    border: none;
    padding: 12px 30px;
    border-radius: 30px;
    margin-top: 15px;
    cursor: pointer;
    font-weight: bold;
  }

  /* GALERIA 3D */
  .galeria {
    height: 250px;
    perspective: 1000px;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 40px 0;
  }

  .cilindro {
    width: 110px;
    height: 150px;
    position: relative;
    transform-style: preserve-3d;
  }

  .cilindro img {
    position: absolute;
    width: 110px;
    height: 150px;
    object-fit: cover;
    border-radius: 12px;
    border: 2px solid white;
    cursor: pointer;
  }

  /* VENTANA FOTO GRANDE */
  #modal {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.95);
    z-index: 10000;
    justify-content: center;
    align-items: center;
  }
  #modal img { max-width: 90%; max-height: 85%; border-radius: 12px; }
</style>
</head>
<body>

<canvas id="stars"></canvas>

<!-- PANTALLA INICIO -->
<div id="intro">
  <h1>Para ti, mi amor ðŸ’–</h1>
  <button onclick="iniciarProyecto()">Entrar ðŸ’•</button>
</div>

<!-- MODAL FOTOS -->
<div id="modal" onclick="this.style.display='none'">
  <img id="imgModal" src="">
</div>

<!-- AUDIOS -->
<audio id="fondo" loop preload="auto">
  <source src="https://files.catbox.moe" type="audio/mpeg">
</audio> 
<audio id="cancion" preload="auto">
  <source src="https://files.catbox.moe" type="audio/mpeg">
</audio>

<div class="container">
  <h2>ðŸ’Œ Mensaje de amor ðŸ’Œ</h2>
  <div class="carta">
    <div id="texto"></div>
  </div>

  <h2>ðŸŽµ Nuestra canciÃ³n ðŸŽµ</h2>
  <div class="player">
    <img src="https://i.imgur.com">
    <br>
    <button class="btn-musica" onclick="toggleMusica()">Reproducir / Pausar</button>
  </div>

  <h2>ðŸ“¸ Nuestros recuerdos ðŸ“¸</h2>
  <div class="galeria">
    <div class="cilindro" id="cilindro"></div>
  </div>
</div>

<script>
  const audioFondo = document.getElementById('fondo');
  const audioCancion = document.getElementById('cancion');
  const divTexto = document.getElementById('texto');
  const cilindro = document.getElementById('cilindro');

  function iniciarProyecto() {
    document.getElementById('intro').style.display = 'none';
    audioFondo.volume = 0.3;
    audioFondo.play();
    empezarAEscribir();
  }

  function toggleMusica() {
    if(audioCancion.paused) {
      audioFondo.pause();
      audioCancion.play();
    } else {
      audioCancion.pause();
      audioFondo.play();
    }
  }

  /* TEXTO COMPLETO ORIGINAL */
  const mensajeFull = `Â¡Feliz San ValentÃ­n, mi amor!

Hoy, en el dÃ­a del amor, quiero recordarte lo increÃ­blemente afortunado que soy de tenerte. Eres esa pieza que encaja perfectamente en mi vida, llenÃ¡ndola de colores, risas y momentos inolvidables.

No necesito un dÃ­a especial para saber cuÃ¡nto te amo, pero hoy aprovecho cada segundo para celebrarte, para agradecerte por tu paciencia, tu ternura y por ser mi compaÃ±era de aventuras.

Prometo seguir construyendo este camino contigo, cuidando nuestro amor como el tesoro mÃ¡s preciado. Gracias por ser mi ValentÃ­n hoy y siempre.

Te amo con todo mi corazÃ³n, cebollÃ­n ðŸ¤Ž`;

  let charIndex = 0;
  function empezarAEscribir() {
    if(charIndex < mensajeFull.length) {
      const char = mensajeFull.charAt(charIndex++);
      divTexto.innerHTML += (char === '\n') ? '<br>' : char;
      setTimeout(empezarAEscribir, 35);
    }
  }

  /* GENERAR FOTOS */
  const fotosUrls = [
    'https://i.imgur.com', 'https://i.imgur.com',
    'https://i.imgur.com', 'https://i.imgur.com',
    'https://i.imgur.com', 'https://i.imgur.com',
    'https://i.imgur.com'
  ];

  fotosUrls.forEach((url, i) => {
    const img = document.createElement('img');
    img.src = url;
    const angulo = (360 / fotosUrls.length) * i;
    img.style.transform = `rotateY(${angulo}deg) translateZ(160px)`;
    img.onclick = () => {
      document.getElementById('imgModal').src = url;
      document.getElementById('modal').style.display = 'flex';
    };
    cilindro.appendChild(img);
  });

  let rotacion = 0;
  function animarGiro() {
    rotacion -= 0.4;
    cilindro.style.transform = `rotateY(${rotacion}deg)`;
    requestAnimationFrame(animarGiro);
  }
  animarGiro();

  /* ESTRELLAS */
  const cvs = document.getElementById('stars');
  const ctx = cvs.getContext('2d');
  function ajustar() { cvs.width = window.innerWidth; cvs.height = window.innerHeight; }
  ajustar(); window.onresize = ajustar;
  
  let estrellasArr = Array.from({length: 120}, () => ({
    x: Math.random() * cvs.width,
    y: Math.random() * cvs.height,
    r: Math.random() * 1.5,
    v: 0.1 + Math.random() * 0.2
  }));

  function dibujarEstrellas() {
    ctx.clearRect(0,0,cvs.width,cvs.height);
    ctx.fillStyle = "white";
    estrellasArr.forEach(s => {
      ctx.beginPath(); ctx.arc(s.x, s.y, s.r, 0, Math.PI*2); ctx.fill();
      s.y += s.v; if(s.y > cvs.height) s.y = 0;
    });
    requestAnimationFrame(dibujarEstrellas);
  }
  dibujarEstrellas();
</script>
</body>
</html>
